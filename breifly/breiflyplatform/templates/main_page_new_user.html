{% include 'header.html' %}
<style>
   body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background-color: #f8f9fa;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.main-container {
    display: flex;
    width: 900px;
    height: 700px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    background-color: white;
}

.image-container {
    flex: 1;
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
}

.form-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 40px;
    background-color: #ffffff;
}

.multi-step-form {
    max-width: 400px;
    width: 100%;
    padding: 20px;
}

.multi-step-form h2 {
    font-size: 28px;
    font-weight: bold;
    color: #333;
    margin-bottom: 10px;
}

.multi-step-form p {
    font-size: 14px;
    color: #666;
    margin-bottom: 30px;
}

.form-label {
    font-weight: bold;
    color: #333;
    margin-top: 15px;
}

.form-control {
    width: 100%;
    background-color: #f8f9fa;
    color: #333;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 10px 15px;
    margin-bottom: 20px;
}

.form-control:focus {
    background-color: #fff;
    border-color: #0d6efd;
    box-shadow: 0 0 5px rgba(13, 110, 253, 0.3);
}

.arrow-btn {
    font-size: 20px;
    font-weight: bold;
    color: white;
    background-color: #0d6efd;
    border: none;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.arrow-btn:hover {
    background-color: #0056b3;
}

.button-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .main-container {
        flex-direction: column; /* Stack elements vertically */
        height: auto; /* Allow the height to adjust */
    }

    .image-container {
        display: none; /* Hide the image container on mobile */
    }

    .form-container {
        padding: 20px;
    }
}
</style>

<div class="main-container">
    <!-- Left Container: Image -->
    <div class="image-container" style="background-image: url('../static/assets/images/diego-ph-fIq0tET6llw-unsplash.jpg'); background-size: cover; background-position: center;"></div>

    <!-- Right Container: Multi-Step Form -->
    <div class="form-container">
        <div class="multi-step-form">
            <form id="multiStepForm" method="POST">
                {% csrf_token %}
                <!-- Step 1 -->
                <div class="step" id="step1">
                    <h2 class="form-title">Complete Your Account Information & Define Settings</h2>
                    <p class="form-description">Please fill in the details below to complete your account setup.</p>
                    <p>Welcome to Briefly! Before using this service, you need to complete setting up your account.</p>
                    <p>The information you provide will help us create better content tailored to your company and target audience.</p>

                    <button type="button" class="arrow-btn next-btn">→</button>
                </div>

                <!-- Step 2 -->
                <div class="step d-none" id="step2">
                    <h5>Step 1: Basic Information</h5>
                    <label for="full_name" class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="full_name" name="full_name" placeholder="Enter your full name" required>

                    <label for="position" class="form-label">Position</label>
                    <input type="text" class="form-control" id="position" name="position" placeholder="Enter your position" required>

                    <div class="button-container">
                        <button type="button" class="arrow-btn prev-btn">←</button>
                        <button type="button" class="arrow-btn next-btn">→</button>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="step d-none" id="step3">
                    <h5>Step 2: Contact Information</h5>
                    <label for="report_email" class="form-label">Report Email</label>
                    <input type="email" class="form-control" id="report_email" name="report_email" placeholder="Enter your report email" required>

                    <label for="phonenr" class="form-label">Phone Number</label>
                    <input type="text" class="form-control" id="phonenr" name="phonenr" placeholder="Enter your phone number" required>

                     <div class="button-container">
                        <button type="button" class="arrow-btn prev-btn">←</button>
                        <button type="button" class="arrow-btn next-btn">→</button>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="step d-none" id="step4">
                    <h5>Step 3: Content Details</h5>
                    <label for="target_audience" class="form-label">Target Audience</label>
                    <input type="text" class="form-control" id="target_audience" name="target_audience" placeholder="Describe your target audience" required>

                    <label for="content_sentiment" class="form-label">Content Sentiment</label>
                    <input type="text" class="form-control" id="content_sentiment" name="content_sentiment" placeholder="What voice & feel do you want the content to have" required>

                    <div class="button-container">
                        <button type="button" class="arrow-btn prev-btn">←</button>
                        <button type="button" class="arrow-btn next-btn">→</button>
                    </div>
                </div>

                <!-- Step 5 -->
                <div class="step d-none" id="step5">
                    <h5>Step 4: Company Details</h5>
                    <label for="company" class="form-label">Company</label>
                    <input type="text" class="form-control" id="company" name="company" placeholder="Enter your company" required>

                    <label for="industry" class="form-label">Industry</label>
                    <input type="text" class="form-control" id="industry" name="industry" placeholder="Enter the company's industry" required>

                    <label for="company_brief" class="form-label">Company Brief</label>
                    <textarea class="form-control" id="company_brief" name="company_brief" rows="3" placeholder="Write a brief about your company" required></textarea>

                    <label for="recent_ventures" class="form-label">Recent Ventures</label>
                    <textarea class="form-control" id="recent_ventures" name="recent_ventures" rows="3" placeholder="Write a brief about recent ventures" required></textarea>

                    <div class="button-container">
                        <button type="button" class="arrow-btn prev-btn">←</button>
                        <button type="button" class="arrow-btn next-btn">→</button>
                    </div>
                </div>

                <!-- Step 6 -->
                <div class="step d-none" id="step6">
                    <h5>Step 5: Settings</h5>
                    <label for="email_reports" class="form-label">Email Reports</label>
                    <select class="form-control" id="email_reports" name="email_reports" required>
                        <option value="True" {% if not error and user_data.settings.email_reports %}selected{% endif %}>Yes</option>
                        <option value="False" {% if not error and not user_data.settings.email_reports %}selected{% endif %}>No</option>
                    </select>

                    <label for="timezone" class="form-label">Timezone</label>
                    <select class="form-control" id="timezone" name="timezone">
                        {% for tz in timezones %}
                        <option value="{{ tz }}" {% if not error and user_data.settings.timezone == tz %}selected{% endif %}>
                            {{ tz }}
                        </option>
                        {% endfor %}
                    </select>

                    <div class="button-container">
                        <button type="button" class="arrow-btn prev-btn">←</button>
                        <input type="submit" value="✔" class="arrow-btn submit-btn">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
    const steps = document.querySelectorAll('.step');
    const progressBar = document.getElementById('progressBar');
    const nextBtns = document.querySelectorAll('.next-btn');
    const prevBtns = document.querySelectorAll('.prev-btn');
    let currentStep = 0;

    function updateProgressBar() {
        const progress = ((currentStep + 1) / steps.length) * 100;
        progressBar.style.width = `${progress}%`;
    }

    function showStep(index) {
        steps.forEach((step, i) => {
            step.classList.toggle('d-none', i !== index);
        });
        updateProgressBar();
    }

    nextBtns.forEach((btn) => {
        btn.addEventListener('click', () => {
            if (currentStep < steps.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        });
    });

    prevBtns.forEach((btn) => {
        btn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        });
    });

    // Initialize the first step
    showStep(currentStep);
});
</script>